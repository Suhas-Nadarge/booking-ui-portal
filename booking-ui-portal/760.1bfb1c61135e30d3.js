"use strict";(self.webpackChunkbooking_ui_portal=self.webpackChunkbooking_ui_portal||[]).push([[760],{2760:(L,g,a)=>{a.r(g),a.d(g,{UsersModule:()=>T});var i=a(4182),p=a(9808),t=a(2096),c=a(1400),u=a(349),l=a(6405),b=a(6570);var m=a(520);let f=(()=>{class o{constructor(n){this._http=n,this.httpOptions={headers:new m.WM({"Content-Type":"application/json"})}}registerUser(n){return this._http.post("http://127.0.0.1:5000/register",n,this.httpOptions)}loginUser(n){return this._http.post("http://127.0.0.1:5000/login",n,this.httpOptions)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(m.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function h(o,s){1&o&&(t.TgZ(0,"div",19),t._UZ(1,"input",27),t.TgZ(2,"label",28),t._uU(3,"First Name"),t.qZA(),t.qZA())}function _(o,s){1&o&&(t.TgZ(0,"div",19),t._UZ(1,"input",29),t.TgZ(2,"label",28),t._uU(3,"Last Name"),t.qZA(),t.qZA())}function v(o,s){1&o&&(t.TgZ(0,"div",19),t.TgZ(1,"select",30),t.TgZ(2,"option",31),t._uU(3,"Select Role"),t.qZA(),t.TgZ(4,"option",32),t._uU(5,"Doctor"),t.qZA(),t.TgZ(6,"option",33),t._uU(7,"Patient"),t.qZA(),t.qZA(),t.qZA())}function Z(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.isLogin=!r.isLogin}),t.TgZ(1,"span"),t._uU(2,"Get started"),t._UZ(3,"i",35),t.qZA(),t.qZA()}}function C(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.isLogin=!r.isLogin}),t.TgZ(1,"small"),t._uU(2,"Already signed up?"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"\xa0Log in"),t.qZA(),t.qZA()}}function x(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){return t.CHM(n),t.oxw().login()}),t._uU(1,"Sign In"),t.qZA()}}function M(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.registerUser(),r.isLogin=!r.isLogin}),t._uU(1,"Sign Up"),t.qZA()}}const O=[{path:"",component:(()=>{class o{constructor(n,e,r,k,y,A){this.fb=n,this.router=e,this.appService=r,this.spinnerService=k,this.toastr=y,this.loginService=A,this.showLoginError=!1,this.isLogin=!1}ngOnInit(){this.createForm()}createForm(){this.loginForm=this.fb.group({email:["",i.kI.required],firstname:["",i.kI.required],lastname:["",i.kI.required],password:["",i.kI.required],isDoctor:!1,id:""})}login(){this.spinnerService.show(),this.showLoginError=!1;let n=this.loginForm.value;console.log(n),this.loginService.loginUser(n).subscribe(e=>{"success"===e.status?(this.spinnerService.hide(),console.log(e),localStorage.setItem("isDoctor",e.isDoctor),localStorage.setItem("id",e.id),localStorage.setItem("firstname",e.firstname),localStorage.setItem("lastname",e.lastname),this.appService.setUserData(!0),this.router.navigate(e.isDoctor?["/pages/appointments/view-appointments"]:["/pages/appointments/search"]),this.toastr.successToastr("Logged in successfully!","Success")):(this.spinnerService.hide(),this.showLoginError=!0,this.toastr.errorToastr("Please enter valid credentials.")),console.log(e)},e=>{this.spinnerService.hide(),this.toastr.errorToastr(e.error.message?e.error.message:"Please enter valid credentials!","Error")})}registerUser(){var n;{this.spinnerService.show(),this.showLoginError=!1;let e=null===(n=this.loginForm)||void 0===n?void 0:n.value;e.isDoctor=JSON.parse(e.isDoctor),this.loginService.registerUser(e).subscribe(r=>{"success"===r.status?(this.spinnerService.hide(),this.toastr.successToastr("User Registered successfully, check your mail for the confirmation!","Success"),this.loginForm.reset(),this.isLogin=!0):(this.spinnerService.hide(),this.showLoginError=!0),console.log(r)},r=>{this.spinnerService.hide(),this.toastr.errorToastr(r.error.message?r.error.message:"Something went wrong!","Error"),console.log(r.error.message)})}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(i.qu),t.Y36(c.F0),t.Y36(u.H),t.Y36(l.t2),t.Y36(b.eP),t.Y36(f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login-register"]],decls:39,vars:8,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],[1,"bs4header","bg-primary"],[1,"main-header"],[1,"navbar","navbar-expand-lg","navbar-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#bs4navbar","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[2,"max-height","100vh","overflow","auto"],["size","large","type","ball-beat"],[1,"sidenav"],[1,"login-main-text"],[1,"container","d-flex","justify-content-center","content-adjust",2,"margin-left","255px"],[1,"d-flex","flex-column","justify-content-between",2,"margin-top","-8px"],[1,"card","mt-3","p-5",2,"height","150px","width","450px"],[2,"margin-top","-46px"],[1,"mb-1"],[1,"mb-5","text-white"],[1,"card","two","bg-white","px-5","py-4","mb-3",3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","autocomplete","off","formControlName","email","id","mail","required","",1,"form-control"],["for","mail",1,"form-control-placeholder"],["type","password","formControlName","password","id","password","required","",1,"form-control"],["for","password",1,"form-control-placeholder"],["class","btn btn-primary btn-block btn-lg mt-1 mb-2",3,"click",4,"ngIf"],["class","btn btn-primary btn-lg",3,"click",4,"ngIf"],["class","btn btn-primary btn-lg","style","margin-top: -24px;",3,"click",4,"ngIf"],["type","text","formControlName","firstname","id","name","required","",1,"form-control"],["for","name",1,"form-control-placeholder"],["type","text","id","name","formControlName","lastname","required","",1,"form-control"],["formControlName","isDoctor","aria-label","Default select example",1,"form-select"],["selected",""],["value","true"],["value","false"],[1,"btn","btn-primary","btn-block","btn-lg","mt-1","mb-2",3,"click"],[1,"fas","fa-long-arrow-alt-right","ml-2"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"btn","btn-primary","btn-lg",2,"margin-top","-24px",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"link",0),t.TgZ(1,"header",1),t.TgZ(2,"div",2),t.TgZ(3,"nav",3),t.TgZ(4,"a",4),t.TgZ(5,"h4"),t.TgZ(6,"i"),t._uU(7,"MyDocs.ie"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"button",5),t._UZ(9,"span",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(10,"link",0),t.TgZ(11,"div",7),t._UZ(12,"ngx-spinner",8),t.TgZ(13,"div",9),t._UZ(14,"div",10),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"div",13),t.TgZ(18,"div",14),t.TgZ(19,"p",15),t._uU(20,"Start booking your"),t.qZA(),t.TgZ(21,"h4",16),t._uU(22,"appointments with us!"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",17),t.YNc(24,h,4,0,"div",18),t.YNc(25,_,4,0,"div",18),t.TgZ(26,"div",19),t._UZ(27,"input",20),t.TgZ(28,"label",21),t._uU(29,"Email"),t.qZA(),t.qZA(),t.YNc(30,v,8,0,"div",18),t.TgZ(31,"div",19),t._UZ(32,"input",22),t.TgZ(33,"label",23),t._uU(34,"Password"),t.qZA(),t.qZA(),t.YNc(35,Z,4,0,"button",24),t.YNc(36,C,5,0,"button",25),t.YNc(37,x,2,0,"button",24),t.YNc(38,M,2,0,"button",26),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(23),t.Q6J("formGroup",e.loginForm),t.xp6(1),t.Q6J("ngIf",!e.isLogin),t.xp6(1),t.Q6J("ngIf",!e.isLogin),t.xp6(5),t.Q6J("ngIf",!e.isLogin),t.xp6(5),t.Q6J("ngIf",e.isLogin),t.xp6(1),t.Q6J("ngIf",!e.isLogin),t.xp6(1),t.Q6J("ngIf",e.isLogin),t.xp6(1),t.Q6J("ngIf",!e.isLogin))},directives:[l.Ro,i.JL,i.sg,p.O5,i.Fj,i.JJ,i.u,i.Q7,i.EJ,i.YN,i.Kr],styles:["body[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{width:400px;border:groove;margin-left:20%;margin-top:16%}.btr[_ngcontent-%COMP%]{border-top-right-radius:5px!important}.btl[_ngcontent-%COMP%]{border-top-left-radius:5px!important}.btn-dark[_ngcontent-%COMP%]{color:#fff;background-color:#010811;border-color:#010811}.btn-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#01070f;border-color:#01070f}.nav-pills[_ngcontent-%COMP%]{display:table!important;width:100%}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:0;border-bottom:1px solid #01081340}.nav-item[_ngcontent-%COMP%]{display:table-cell}.form[_ngcontent-%COMP%]{padding:10px;height:300px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:12px;border-radius:3px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}.main[_ngcontent-%COMP%]{margin-left:20%;margin-top:0%}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#000}a[_ngcontent-%COMP%]{color:#000;text-decoration:none;background-color:transparent}.sidenav[_ngcontent-%COMP%]{margin-left:47px;margin-top:85px;height:600px;width:31.5%;background:url(https://www.doccure.io/landing-assets/images/Doctor.png);background-repeat:no-repeat}.card[_ngcontent-%COMP%]{width:500px;border:groove;margin-left:-10%;margin-top:2%;height:469px}.btn-light-moon[_ngcontent-%COMP%]{background:#FFEFBA;background:linear-gradient(to right,#FFFFFF,#FFEFBA);color:#000;border:3px solid #eee}.btn-dark-moon[_ngcontent-%COMP%]{background:#141E30;background:linear-gradient(to right,#243B55,#141E30);color:#fff;border:3px solid #eee}body[_ngcontent-%COMP%]{background-color:#ebeaef}.container[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;background-color:#4270c8;width:350px;margin-top:-60px}p.mb-1[_ngcontent-%COMP%]{font-size:25px;color:#9fb7fd}.btn-primary[_ngcontent-%COMP%]{border:none;background:#5777DE;margin-bottom:60px}.btn-primary[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#9fb7fd}.btn-primary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.card.two[_ngcontent-%COMP%]{border-top-right-radius:60px;border-top-left-radius:0;width:450px;height:550px}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.form-control[_ngcontent-%COMP%]{border:none;border-radius:0;outline:0;border-bottom:1.5px solid #E6EBEE}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-radius:0;border-bottom:2px solid #8A97A8}.form-control-placeholder[_ngcontent-%COMP%]{position:absolute;top:15px;left:10px;transition:all .2s;opacity:.5;font-size:80%}.form-control[_ngcontent-%COMP%]:focus + .form-control-placeholder[_ngcontent-%COMP%]{font-size:0%;transform:translateY(-90%);opacity:0;top:10px;color:#8b92ac}.form-control[_ngcontent-%COMP%]:valid + .form-control-placeholder[_ngcontent-%COMP%]{font-size:0%;transform:translateY(-90%);opacity:0;top:10px;color:#8b92ac}.btn-block[_ngcontent-%COMP%]{border:none;border-radius:8px;background-color:#506ccf;padding:10px 0 12px}.btn-block[_ngcontent-%COMP%]:focus{box-shadow:none}.btn-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;color:#d0e6ff}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(O)],c.Bz]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,P,i.UX,l.ef]]}),o})()}}]);